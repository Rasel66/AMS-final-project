<!-- courses.ejs -->

<h3 class="mx-2">All Courses</h3>

<table class="table text-white fs-5">
  <thead>
    <tr>
      <th>Course Name</th>
      <th>Course Code</th>
      <th>Enrollment</th>
    </tr>
  </thead>
  <tbody>
    <% courses.forEach(function(course) { %>
      <tr>
        <td><%= course.name %></td>
        <td><%= course.code %></td>
        <td>
          <form action="/enroll" method="post">
            <input type="hidden" name="courseId" value="<%= course._id %>">
            <!-- <button type="submit" class="btn btn-primary">Enroll</button> -->
            <% if (enrolledCourseIds.includes(course._id.toString())) { %>
              Enrolled 
        <% } else { %>  
            <a href="/student/enroll?student_id=<%= student_id %>&course_id=<%= course._id %>" class="btn btn-primary">Enroll</a>
        <% } %>
        </form>
        </td>
      </tr>
    <% }); %>
  </tbody>
</table>
